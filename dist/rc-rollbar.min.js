!function(r){"use strict";var e=r.module("rcRollbar",[]);e.config(["$provide",function(r){r.decorator("$log",["$delegate","$injector","$window",function(r,e,o){function n(r,n){o.Rollbar[r](n[0],function(o,n){e.get("$rootScope").$emit("rollbar:log:"+r,{exception:r,err:o,data:n.result})})}var t=r;return o.Rollbar&&(t={log:function(){r.log.apply(r,arguments)},error:function(){r.error.apply(r,arguments),!0===o.Rollbar.options.enableLogLevel.error&&n("error",arguments)},warn:function(){r.warn.apply(r,arguments),!0===o.Rollbar.options.enableLogLevel.warning&&n("warning",arguments)},debug:function(){r.debug.apply(r,arguments),!0===o.Rollbar.options.enableLogLevel.debug&&n("debug",arguments)},info:function(){r.info.apply(r,arguments),!0===o.Rollbar.options.enableLogLevel.info&&n("info",arguments)}}),t}])}]),e.provider("Rollbar",function(){function e(r){function e(e){return function(){r.Rollbar[e].apply(r.Rollbar,arguments)}}function t(r){console.warn("Rollbar is deactivated")}var a={Rollbar:t,configure:t,critical:t,error:t,warning:t,info:t,debug:t,scope:t,verbose:t,enable:t,disable:t};return o&&(a.Rollbar=r.Rollbar,a.configure=e("configure"),a.critical=e("critical"),a.error=e("error"),a.warning=e("warning"),a.debug=e("debug"),a.info=e("info"),a.scope=e("scope"),a.verbose=function(e){void 0===e&&(e=!0),r.Rollbar.configure({verbose:e})},a.enable=function(){r.Rollbar.configure({enabled:!0})},a.disable=function(){r.Rollbar.configure({enabled:!1})},a.enableLogLevel=n),a}var o=!0,n={error:!0,warning:!0,debug:!0,info:!1};this.init=function(e){!r.isUndefined(e.enableLogLevel)&&r.isObject(e.enableLogLevel)||(e.enableLogLevel={}),e.enableLogLevel=r.extend(n,e.enableLogLevel);var t=e;o&&function(r){function e(n){if(o[n])return o[n].exports;var t=o[n]={exports:{},id:n,loaded:!1};return r[n].call(t.exports,t,t.exports,e),t.loaded=!0,t.exports}var o={};e.m=r,e.c=o,e.p="",e(0)}([function(r,e,o){var n=o(1),a=o(4);(t=t||{}).rollbarJsUrl=t.rollbarJsUrl||"https://cdnjs.cloudflare.com/ajax/libs/rollbar.js/2.1.0/rollbar.min.js",t.async=void 0===t.async||t.async;var l=n.setupShim(window,t),i=a(t);window.rollbar=n.Rollbar,l.loadFull(window,document,!t.async,t,i)},function(r,e,o){function n(r){return function(){try{return r.apply(this,arguments)}catch(r){try{console.error("[Rollbar]: Internal error",r)}catch(r){}}}}function t(r,e){this.options=r,this._rollbarOldOnError=null;var o=l++;this.shimId=function(){return o},window&&window._rollbarShims&&(window._rollbarShims[o]={handler:e,messages:[]})}var a=o(2),l=0,i=o(3).bind(null,function(r,e){return new t(r,e)});t.prototype.loadFull=function(r,e,o,t,a){var l=function(){var e;if(void 0===r._rollbarDidLoad){e=new Error("rollbar.js did not load");for(var o,n,t,l,i=0;o=r._rollbarShims[i++];)for(o=o.messages||[];n=o.shift();)for(t=n.args||[],i=0;i<t.length;++i)if("function"==typeof(l=t[i])){l(e);break}}"function"==typeof a&&a(e)},i=!1,c=e.createElement("script"),s=e.getElementsByTagName("script")[0],d=s.parentNode;c.crossOrigin="",c.src=t.rollbarJsUrl,o||(c.async=!0),c.onload=c.onreadystatechange=n(function(){if(!(i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){c.onload=c.onreadystatechange=null;try{d.removeChild(c)}catch(r){}i=!0,l()}}),d.insertBefore(c,s)},t.prototype.wrap=function(r,e){try{var o;if(o="function"==typeof e?e:function(){return e||{}},"function"!=typeof r)return r;if(r._isWrap)return r;if(!r._wrapped&&(r._wrapped=function(){try{return r.apply(this,arguments)}catch(n){var e=n;throw"string"==typeof e&&(e=new String(e)),e._rollbarContext=o()||{},e._rollbarContext._wrappedSource=r.toString(),window._rollbarWrappedError=e,e}},r._wrapped._isWrap=!0,r.hasOwnProperty))for(var n in r)r.hasOwnProperty(n)&&(r._wrapped[n]=r[n]);return r._wrapped}catch(e){return r}};for(var c="log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleUnhandledRejection".split(","),s=0;s<c.length;++s)t.prototype[c[s]]=function(r){return n(function(){var e=this,o=Array.prototype.slice.call(arguments,0),n={shim:e,method:r,args:o,ts:new Date};window._rollbarShims[this.shimId()].messages.push(n)})}(c[s]);r.exports={setupShim:function(r,e){var o=e.globalAlias||"Rollbar";if("object"==typeof r[o])return r[o];r._rollbarShims={},r._rollbarWrappedError=null;var t=new i(e);return n(function(){return e.captureUncaught&&(t._rollbarOldOnError=r.onerror,a.captureUncaughtExceptions(r,t,!0),a.wrapGlobals(r,t,!0)),e.captureUnhandledRejections&&a.captureUnhandledRejections(r,t,!0),r[o]=t,t})()},Rollbar:i}},function(r,e){function o(r,e,o,n){r._rollbarWrappedError&&(n[4]||(n[4]=r._rollbarWrappedError),n[5]||(n[5]=r._rollbarWrappedError._rollbarContext),r._rollbarWrappedError=null),e.handleUncaughtException.apply(e,n),o&&o.apply(r,n)}function n(r,e,o){if(e.hasOwnProperty&&e.hasOwnProperty("addEventListener")){for(var n=e.addEventListener;n._rollbarOldAdd&&n.belongsToShim;)n=n._rollbarOldAdd;var t=function(e,o,t){n.call(this,e,r.wrap(o),t)};t._rollbarOldAdd=n,t.belongsToShim=o,e.addEventListener=t;for(var a=e.removeEventListener;a._rollbarOldRemove&&a.belongsToShim;)a=a._rollbarOldRemove;var l=function(r,e,o){a.call(this,r,e&&e._wrapped||e,o)};l._rollbarOldRemove=a,l.belongsToShim=o,e.removeEventListener=l}}r.exports={captureUncaughtExceptions:function(r,e,n){if(r){var t;"function"==typeof e._rollbarOldOnError?t=e._rollbarOldOnError:r.onerror&&!r.onerror.belongsToShim&&(t=r.onerror,e._rollbarOldOnError=t);var a=function(){var n=Array.prototype.slice.call(arguments,0);o(r,e,t,n)};a.belongsToShim=n,r.onerror=a}},captureUnhandledRejections:function(r,e,o){if(r){"function"==typeof r._rollbarURH&&r._rollbarURH.belongsToShim&&r.removeEventListener("unhandledrejection",r._rollbarURH);var n=function(r){var o=r.reason,n=r.promise,t=r.detail;!o&&t&&(o=t.reason,n=t.promise),e&&e.handleUnhandledRejection&&e.handleUnhandledRejection(o,n)};n.belongsToShim=o,r._rollbarURH=n,r.addEventListener("unhandledrejection",n)}},wrapGlobals:function(r,e,o){if(r){var t,a,l="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(t=0;t<l.length;++t)a=l[t],r[a]&&r[a].prototype&&n(e,r[a].prototype,o)}}}},function(r,e){function o(r,e){this.impl=r(e,this),this.options=e,n(o.prototype)}function n(r){for(var e="log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleUnhandledRejection,_createItem,wrap,loadFull,shimId".split(","),o=0;o<e.length;o++)r[e[o]]=function(r){return function(){var e=Array.prototype.slice.call(arguments,0);if(this.impl[r])return this.impl[r].apply(this.impl,e)}}(e[o])}o.prototype._swapAndProcessMessages=function(r,e){this.impl=r(this.options);for(var o,n,t;o=e.shift();)n=o.method,t=o.args,this[n]&&"function"==typeof this[n]&&this[n].apply(this,t);return this},r.exports=o},function(r,e){r.exports=function(r){return function(e){if(!e&&!window._rollbarInitialized){for(var o,n,t=(r=r||{}).globalAlias||"Rollbar",a=window.rollbar,l=0;o=window._rollbarShims[l++];)n||(n=o.handler),o.handler._swapAndProcessMessages(function(r){return new a(r)},o.messages);window[t]=n,window._rollbarInitialized=!0}}}}])},this.deinit=function(){o=!1},e.$inject=["$window"],this.$get=e})}(angular);